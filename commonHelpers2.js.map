{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nshowSaveData();\nform.addEventListener('input', seeInput);\nform.addEventListener('submit', onFormSubmit);\nfunction seeInput(event) {\n  const element = event.target;\n  const onFormData = {};\n  onFormData[element.name] = element.value.trim();\n\n  localStorage.setItem(KEY, JSON.stringify(onFormSubmit));\n}\n\nfunction showSaveData() {\n  const giveData = JSON.parse(localStorage.getItem(KEY));\n\n  if (giveData) {\n    form.elements.email.value = giveData.email;\n    form.elements.message.value = giveData.message;\n  }\n}\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const data = {};\n  const value = new FormData(event.currentTarget);\n  value.forEach((value, name) => {\n    data[name] = value.trim();\n  });\n  if (data.email === '' || data.message === '') {\n    alert('All write form');\n    return;\n  }\n  console.dir(data);\n\n  localStorage.removeItem(KEY);\n  event.target.reset();\n}\n"],"names":["KEY","form","showSaveData","seeInput","onFormSubmit","event","element","onFormData","giveData","data","value","name"],"mappings":"oDAAA,MAAMA,EAAM,sBACNC,EAAO,SAAS,cAAc,gBAAgB,EAEpDC,IACAD,EAAK,iBAAiB,QAASE,CAAQ,EACvCF,EAAK,iBAAiB,SAAUG,CAAY,EAC5C,SAASD,EAASE,EAAO,CACvB,MAAMC,EAAUD,EAAM,OAChBE,EAAa,CAAA,EACnBA,EAAWD,EAAQ,IAAI,EAAIA,EAAQ,MAAM,OAEzC,aAAa,QAAQN,EAAK,KAAK,UAAUI,CAAY,CAAC,CACxD,CAEA,SAASF,GAAe,CACtB,MAAMM,EAAW,KAAK,MAAM,aAAa,QAAQR,CAAG,CAAC,EAEjDQ,IACFP,EAAK,SAAS,MAAM,MAAQO,EAAS,MACrCP,EAAK,SAAS,QAAQ,MAAQO,EAAS,QAE3C,CACA,SAASJ,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMI,EAAO,CAAA,EAKb,GAJc,IAAI,SAASJ,EAAM,aAAa,EACxC,QAAQ,CAACK,EAAOC,IAAS,CAC7BF,EAAKE,CAAI,EAAID,EAAM,KAAI,CAC3B,CAAG,EACGD,EAAK,QAAU,IAAMA,EAAK,UAAY,GAAI,CAC5C,MAAM,gBAAgB,EACtB,MACD,CACD,QAAQ,IAAIA,CAAI,EAEhB,aAAa,WAAWT,CAAG,EAC3BK,EAAM,OAAO,OACf"}